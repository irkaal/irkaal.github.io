<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Scully 1.0.0-beta.3">
    <meta charset="utf-8">
    <title>Alvin N.</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.1/css/all.css" integrity="sha384-v8BU367qNbs/aIZIxuivaU55N5GPF89WBerHoGA4QTcbUjYiLQtKdrfXnqAcXyTv" crossorigin="anonymous">
<link rel="stylesheet" href="styles.4bffaf77c54ca2f2c040.css"><style>.app-component[_ngcontent-byw-c7]{min-width:330px}.nav[_ngcontent-byw-c7]{align-items:center}.nav[_ngcontent-byw-c7]   a[_ngcontent-byw-c7]{text-decoration:none;font-size:1.2em!important;display:inline-block}.nav[_ngcontent-byw-c7]   .nav-brand[_ngcontent-byw-c7]   h1[_ngcontent-byw-c7], .nav[_ngcontent-byw-c7]   .nav-brand[_ngcontent-byw-c7]   p[_ngcontent-byw-c7]{color:#000}.nav[_ngcontent-byw-c7]   .nav-brand[_ngcontent-byw-c7]   h1[_ngcontent-byw-c7]{font-size:3em!important}.nav[_ngcontent-byw-c7]   .nav-brand[_ngcontent-byw-c7]   p[_ngcontent-byw-c7]{font-size:1em!important}.footer[_ngcontent-byw-c7]{padding:2rem 0;color:#999;text-align:center;background-color:#f9f9f9;border-top:.05rem solid #e5e5e5}.footer[_ngcontent-byw-c7]   p[_ngcontent-byw-c7]:last-child{margin-bottom:0}.footer[_ngcontent-byw-c7]   a[_ngcontent-byw-c7]{color:#999!important}.footer[_ngcontent-byw-c7]   a[_ngcontent-byw-c7]:hover{color:#007bff!important}</style><script charset="utf-8" src="4.53721a46c7aa23458841.js"></script><style>.blog-post[_ngcontent-byw-c10]{font-size:1.2rem;max-width:800px}.blog-post[_ngcontent-byw-c10]   div.author[_ngcontent-byw-c10]{align-items:center;margin-bottom:3rem}.blog-post[_ngcontent-byw-c10]   div.author[_ngcontent-byw-c10]   img.avatar[_ngcontent-byw-c10]{border-radius:50%;height:48px;width:48px}.blog-post[_ngcontent-byw-c10]   h1[_ngcontent-byw-c10]{margin-bottom:1.5rem}.blog-md[_ngcontent-byw-c10]   a[_ngcontent-byw-c10]{text-decoration:underline!important}.blog-md[_ngcontent-byw-c10]   button[_ngcontent-byw-c10], .blog-md[_ngcontent-byw-c10]   code[_ngcontent-byw-c10]{font-size:90%}.blog-md[_ngcontent-byw-c10]   h2[_ngcontent-byw-c10]{margin-top:5rem}.blog-md[_ngcontent-byw-c10]   h3[_ngcontent-byw-c10]{margin-top:3rem}.blog-md[_ngcontent-byw-c10]   iframe[_ngcontent-byw-c10]{height:350px;width:100%;padding:1rem}.blog-md[_ngcontent-byw-c10]   img[_ngcontent-byw-c10]{width:100%;margin-top:1.5rem;padding:1rem}.blog-md[_ngcontent-byw-c10]   img[_ngcontent-byw-c10], .blog-md[_ngcontent-byw-c10]   pre[_ngcontent-byw-c10]{border-radius:.25rem}.blog-md[_ngcontent-byw-c10]   p[_ngcontent-byw-c10]{margin-top:2rem}.blog-md[_ngcontent-byw-c10]   pre[_ngcontent-byw-c10]{margin-bottom:1rem}.blog-md[_ngcontent-byw-c10]   table[_ngcontent-byw-c10], .blog-md[_ngcontent-byw-c10]   td[_ngcontent-byw-c10], .blog-md[_ngcontent-byw-c10]   th[_ngcontent-byw-c10]{border:1px solid #000}.blog-md[_ngcontent-byw-c10]   td[_ngcontent-byw-c10], .blog-md[_ngcontent-byw-c10]   th[_ngcontent-byw-c10]{padding:.5rem 2rem}</style><style>
      :host {
        display: none;
      }
      scully-content {
        display: none;
      }
    </style><script>window['ScullyIO']='generated';</script></head>
<body scully-version="1.0.0-beta.3">
    <app-root _nghost-byw-c7="" ng-version="10.0.5"><div _ngcontent-byw-c7="" class="app-component d-flex h-100 flex-column"><div _ngcontent-byw-c7="" class="container pt-4"><header _ngcontent-byw-c7="" class="mb-auto border-bottom"><nav _ngcontent-byw-c7="" class="nav"><span _ngcontent-byw-c7=""><a _ngcontent-byw-c7="" class="nav-link nav-brand pb-2" href="/"><h1 _ngcontent-byw-c7="" class="display-1"><strong _ngcontent-byw-c7="">Alvin</strong> N.</h1><p _ngcontent-byw-c7="">Data Scientist</p></a></span><span _ngcontent-byw-c7="" class="mr-auto"></span><div _ngcontent-byw-c7=""><a _ngcontent-byw-c7="" title="Personal Blog" class="nav-link" href="/blog">Blog</a><a _ngcontent-byw-c7="" title="GitHub" href="https://github.com/irkaal" class="nav-link"><i _ngcontent-byw-c7="" class="fab fa-github"></i></a><a _ngcontent-byw-c7="" title="kaggle" href="https://www.kaggle.com/irkaal" class="nav-link"><i _ngcontent-byw-c7="" class="fab fa-kaggle"></i></a><a _ngcontent-byw-c7="" title="LinkedIn" href="https://www.linkedin.com/in/alvin-n" class="nav-link"><i _ngcontent-byw-c7="" class="fab fa-linkedin"></i></a></div></nav></header><router-outlet _ngcontent-byw-c7=""></router-outlet><app-blog-post _nghost-byw-c10=""><div _ngcontent-byw-c10="" class="blog-post container py-4"><h1 _ngcontent-byw-c10="">tibble: A Simple Data Frame in R</h1><div _ngcontent-byw-c10="" class="author d-flex"><div _ngcontent-byw-c10=""><img _ngcontent-byw-c10="" class="avatar" src="https://avatars1.githubusercontent.com/u/45277297?v=4" alt="Alvin N."></div><div _ngcontent-byw-c10="" class="pl-3 text-truncate"><div _ngcontent-byw-c10="" class="text-truncate">by Alvin N.</div><span _ngcontent-byw-c10="">30 Aug. 2020</span></div></div><p _ngcontent-byw-c10=""><img _ngcontent-byw-c10="" class="rounded w-100" src="assets/blog/tibble-a-simple-data-frame-in-r/tibble.png"></p><div _ngcontent-byw-c10="" class="blog-md"><!--scullyContent-begin--><h2 id="what-is-a-tibble" _ngcontent-byw-c10="">What is a tibble?</h2>
<p _ngcontent-byw-c10="">According to the tibble <a href="https://tibble.tidyverse.org" _ngcontent-byw-c10="">documentation</a>, a tibble, or <code _ngcontent-byw-c10="">tbl_df</code>, is a modern reimagining of the <code _ngcontent-byw-c10="">data.frame</code>, keeping what time has proven to be effective, and throwing out what is not. </p>
<h3 id="why-tibble" _ngcontent-byw-c10="">Why "tibble"?</h3>
<p _ngcontent-byw-c10="">Maybe it is because "tibble" is how New Zealanders (like Hadley) pronounce the word "table" ðŸ˜‚.</p>
<p _ngcontent-byw-c10=""><a href="https://community.rstudio.com/t/why-on-earth-is-it-called-tibble/26569/4" _ngcontent-byw-c10=""><img src="assets/blog/tibble-a-simple-data-frame-in-r/tibble-rstudio-community.png" alt="" _ngcontent-byw-c10=""></a></p>
<p _ngcontent-byw-c10="">On the other hand, maybe it's New Zealand for data frame ðŸ˜….</p>
<iframe class="p-3" src="https://www.youtube.com/embed/gjpNEVcG1nU?start=505" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" _ngcontent-byw-c10=""></iframe>

<p _ngcontent-byw-c10="">Joking aside, I believe a tibble is a simple data frame that improves on the behavior of the traditional data frame through <a href="https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)" _ngcontent-byw-c10="">inheritance</a>.</p>
<h2 id="the-tbl_df-class" _ngcontent-byw-c10="">The <code _ngcontent-byw-c10="">tbl_df</code> class</h2>
<p _ngcontent-byw-c10="">Before I explain the differences between tibble and the traditional data frame, I would like to first explain how tibble can alter some behaviors of the traditional data frame.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">class(tibble())
#&gt; [1] "tbl_df"     "tbl"        "data.frame"</code></pre>
<p _ngcontent-byw-c10="">A tibble is a data frame with the <code _ngcontent-byw-c10="">tbl_df</code> class. We can think of <code _ngcontent-byw-c10="">tbl</code> as a tibble and <code _ngcontent-byw-c10="">df</code> as a data frame. So <code _ngcontent-byw-c10="">tbl_df</code> is like a tibble that stores its data in a data frame.</p>
<p _ngcontent-byw-c10="">TODO: Add UML Diagram here</p>
<p _ngcontent-byw-c10="">The <code _ngcontent-byw-c10="">tbl_df</code> class inherits from the <code _ngcontent-byw-c10="">tbl</code> class which in turn inherits from the <code _ngcontent-byw-c10="">data.frame</code> class. This means that <code _ngcontent-byw-c10="">tbl_df</code> is a subclass of <code _ngcontent-byw-c10="">data.frame</code> and the behaviors of <code _ngcontent-byw-c10="">data.frame</code> are passed down to <code _ngcontent-byw-c10="">tbl_df</code> through this inheritance chain.</p>
<p _ngcontent-byw-c10="">This allows <code _ngcontent-byw-c10="">tbl_df</code> to behave like a <code _ngcontent-byw-c10="">data.frame</code> and to alter the behaviors of a traditional data frame, such as printing and subsetting.</p>
<h2 id="creating-a-tibble" _ngcontent-byw-c10="">Creating a tibble</h2>
<p _ngcontent-byw-c10="">There are different ways to create a tibble. The common ways are through the <code _ngcontent-byw-c10="">tibble()</code> and <code _ngcontent-byw-c10="">tribble()</code> functions.</p>
<p _ngcontent-byw-c10="">I will create the following table using the two functions: </p>
<table _ngcontent-byw-c10="">
<thead _ngcontent-byw-c10="">
<tr _ngcontent-byw-c10="">
<th _ngcontent-byw-c10="">x</th>
<th _ngcontent-byw-c10="">y</th>
</tr>
</thead>
<tbody _ngcontent-byw-c10=""><tr _ngcontent-byw-c10="">
<td _ngcontent-byw-c10="">1</td>
<td _ngcontent-byw-c10="">4</td>
</tr>
<tr _ngcontent-byw-c10="">
<td _ngcontent-byw-c10="">2</td>
<td _ngcontent-byw-c10="">5</td>
</tr>
<tr _ngcontent-byw-c10="">
<td _ngcontent-byw-c10="">3</td>
<td _ngcontent-byw-c10="">6</td>
</tr>
</tbody></table>
<h3 id="creating-using-tibble" _ngcontent-byw-c10="">Creating using <code _ngcontent-byw-c10="">tibble()</code></h3>
<p _ngcontent-byw-c10="">We can use <code _ngcontent-byw-c10="">tibble()</code> just like how we use <code _ngcontent-byw-c10="">data.frame()</code>.</p>
<p _ngcontent-byw-c10="">If we use the <code _ngcontent-byw-c10="">tag = value</code> form, the column name is created based on <code _ngcontent-byw-c10="">tag</code>:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">tibble(x = 1:3, y = 4:6)
#&gt; # A tibble: 3 x 2
#&gt;       x     y
#&gt;   &lt;int&gt; &lt;int&gt;
#&gt; 1     1     4
#&gt; 2     2     5
#&gt; 3     3     6</code></pre>
<p _ngcontent-byw-c10="">If we use the <code _ngcontent-byw-c10="">value</code> form, the column name is created based on the <code _ngcontent-byw-c10="">value</code>'s deparsed argument:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">x &lt;- 1:3
y &lt;- 4:6
tibble(x, y)
#&gt; # A tibble: 3 x 2
#&gt;       x     y
#&gt;   &lt;int&gt; &lt;int&gt;
#&gt; 1     1     4
#&gt; 2     2     5
#&gt; 3     3     6</code></pre>
<h3 id="creating-using-tribble" _ngcontent-byw-c10="">Creating using <code _ngcontent-byw-c10="">tribble()</code></h3>
<p _ngcontent-byw-c10="">We can use <code _ngcontent-byw-c10="">tribble()</code> for row-wise tibble creation which makes the code more readable.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">tribble(
  ~x, ~y,
  1,  4,
  2,  5,
  3,  6
)
#&gt; # A tibble: 3 x 2
#&gt;       x     y
#&gt;   &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1     1     4
#&gt; 2     2     5
#&gt; 3     3     6</code></pre>
<p _ngcontent-byw-c10="">We use the <code _ngcontent-byw-c10="">~name</code> syntax in the first row for the column names and followed by the value rows.</p>
<h3 id="repairing-column-names" _ngcontent-byw-c10="">Repairing column names</h3>
<p _ngcontent-byw-c10="">By default, <code _ngcontent-byw-c10="">data.frame()</code> munges duplicate column names to produce unique names:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">data.frame(x = 1:3, x = 4:6)
#&gt;   x x.1
#&gt; 1 1   4
#&gt; 2 2   5
#&gt; 3 3   6</code></pre>
<p _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">tibble()</code> does not munge column names, but it will give a warning output:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">tibble(x = 1:3, x = 4:6)
#&gt; Error: Column name `x` must not be duplicated.
#&gt; Use .name_repair to specify repair.
#&gt; Run `rlang::last_error()` to see where the error occurred.</code></pre>
<p _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">tibble()</code> has a <code _ngcontent-byw-c10="">.name_repair</code> argument which allows us to specify how we can resolve the duplicate column names.</p>
<p _ngcontent-byw-c10="">By default, <code _ngcontent-byw-c10="">.name_repair</code> is set to <code _ngcontent-byw-c10="">"check_unique"</code> which just ensures that there are unique columns and does not attempt to repair if there are non-unique column names.</p>
<p _ngcontent-byw-c10="">Other than <code _ngcontent-byw-c10="">"check_unique"</code>, <code _ngcontent-byw-c10="">.name_repair</code> accepts the following values:</p>
<ul _ngcontent-byw-c10="">
<li _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">"minimal"</code>: allows duplicate column names</li>
<li _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">"unique"</code>: generates non-empty unique names</li>
<li _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">"universal"</code>: generates unique and syntactic names</li>
<li _ngcontent-byw-c10="">A custom function or purrr anonymous function</li>
</ul>
<p _ngcontent-byw-c10="">The main difference between using <code _ngcontent-byw-c10="">"unique"</code> and <code _ngcontent-byw-c10="">"universal"</code> can be seen when your data contains columns with non-syntactic names, such as <code _ngcontent-byw-c10="">`x var`</code> and <code _ngcontent-byw-c10="">`y var`</code> which contains whitespace.</p>
<p _ngcontent-byw-c10="">Using <code _ngcontent-byw-c10="">.name_repair = "unique"</code>:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">tibble(`x var` = 1:3, `x var` = 4:6, .name_repair = "unique")
#&gt; New names:
#&gt; * `x var` -&gt; `x var...1`
#&gt; * `x var` -&gt; `x var...2`
#&gt; # A tibble: 3 x 2
#&gt;   `x var...1` `x var...2`
#&gt;         &lt;int&gt;       &lt;int&gt;
#&gt; 1           1           4
#&gt; 2           2           5
#&gt; 3           3           6</code></pre>
<p _ngcontent-byw-c10="">Notice how the whitespace between <code _ngcontent-byw-c10="">x</code> and <code _ngcontent-byw-c10="">var</code> is preserved and the column names, <code _ngcontent-byw-c10="">x var...1</code> and <code _ngcontent-byw-c10="">x var...2</code>, are still non-syntactic.</p>
<p _ngcontent-byw-c10="">Using <code _ngcontent-byw-c10="">.name_repair = "universal"</code>:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">tibble(`x var` = 1:3, `x var` = 4:6, .name_repair = "universal")
#&gt; New names:
#&gt; * `x var` -&gt; x.var...1
#&gt; * `x var` -&gt; x.var...2
#&gt; # A tibble: 3 x 2
#&gt;   x.var...1 x.var...2
#&gt;       &lt;int&gt;     &lt;int&gt;
#&gt; 1         1         4
#&gt; 2         2         5
#&gt; 3         3         6</code></pre>
<p _ngcontent-byw-c10="">Now the columns have syntactic names, <code _ngcontent-byw-c10="">x.var...1</code> and <code _ngcontent-byw-c10="">x.var...2</code>.</p>
<h3 id="using-list-columns" _ngcontent-byw-c10="">Using list-columns</h3>
<p _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">data.frame()</code> does not support lists as variables:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">data.frame(
  x = list(
    data.frame(y1 = 1:3, z1 = 4:6),
    data.frame(y2 = 1:3, z2 = 4:6)
  )
)
#&gt;   x.y1 x.z1 x.y2 x.z2
#&gt; 1    1    4    1    4
#&gt; 2    2    5    2    5
#&gt; 3    3    6    3    6</code></pre>
<p _ngcontent-byw-c10="">On the other hand, <code _ngcontent-byw-c10="">tibble()</code> supports list-columns. This allows us to create data frames with lists as variables and nested data frames:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">tibble(
  x = list(
    tibble(y1 = 1:3, z1 = 4:6),
    tibble(y2 = 1:3, z2 = 4:6)
  )
)
#&gt; # A tibble: 2 x 1
#&gt;   x               
#&gt;   &lt;list&gt;          
#&gt; 1 &lt;tibble [3 x 2]&gt;
#&gt; 2 &lt;tibble [3 x 2]&gt;</code></pre>
<h2 id="coercing-to-a-tibble" _ngcontent-byw-c10="">Coercing to a tibble</h2>
<p _ngcontent-byw-c10="">We can coerce vectors, lists, matrices, or traditional data frames to tibbles.</p>
<p _ngcontent-byw-c10="">The commonly used functions for doing this are <code _ngcontent-byw-c10="">as_tibble()</code>, <code _ngcontent-byw-c10="">as_tibble_row()</code>, and <code _ngcontent-byw-c10="">as_tibble_col()</code>.</p>
<p _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">as_tibble()</code> coerces objects, such as a matrix or traditional data frame into a tibble:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">class(mtcars)
#&gt; [1] "data.frame"
as_tibble(mtcars)
#&gt; # A tibble: 32 x 11
#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
#&gt; # ... with 22 more rows</code></pre>
<p _ngcontent-byw-c10="">By default, <code _ngcontent-byw-c10="">as_tibble()</code> coerces a vector into a single column tibble, but we can explicitly do it using <code _ngcontent-byw-c10="">as_tibble_col()</code>:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble_col(1:3)
#&gt; # A tibble: 3 x 1
#&gt;   value
#&gt;   &lt;int&gt;
#&gt; 1     1
#&gt; 2     2
#&gt; 3     3</code></pre>
<p _ngcontent-byw-c10="">On the other hand, if we want to coerce a vector into a single row tibble, we can use <code _ngcontent-byw-c10="">as_tibble_row()</code>:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble_row(1:3)
#&gt; Error: Columns 1, 2, and 3 must be named.
#&gt; Use .name_repair to specify repair.
#&gt; Run `rlang::last_error()` to see where the error occurred.</code></pre>
<p _ngcontent-byw-c10="">Oops! Vectors does not contain any column names!
Just like <code _ngcontent-byw-c10="">tibble()</code>, the <code _ngcontent-byw-c10="">as_tibble()</code>, <code _ngcontent-byw-c10="">as_tibble_col()</code>, and <code _ngcontent-byw-c10="">as_tibble_row()</code> has a  <code _ngcontent-byw-c10="">.name_repair</code> argument for fixing column names dynamically.</p>
<p _ngcontent-byw-c10="">In this case, we want it to repair our column names by generating unique names:</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble_row(1:3, .name_repair = "unique")
#&gt; New names:
#&gt; * `` -&gt; ...1
#&gt; * `` -&gt; ...2
#&gt; * `` -&gt; ...3
#&gt; # A tibble: 1 x 3
#&gt;    ...1  ...2  ...3
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;
#&gt; 1     1     2     3</code></pre>
<h3 id="preserving-row-names" _ngcontent-byw-c10="">Preserving row names</h3>
<p _ngcontent-byw-c10="">Instead of having row names, having a column that stores information about the row names is encouraged.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">head(mtcars)
#&gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
#&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p _ngcontent-byw-c10="">By default, the rownames column is not added when coercing a traditional data frame to a tibble.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble(mtcars)
#&gt; # A tibble: 6 x 11
#&gt;     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1  21       6   160   110  3.9   2.62  16.5     0     1     4     4
#&gt; 2  21       6   160   110  3.9   2.88  17.0     0     1     4     4
#&gt; 3  22.8     4   108    93  3.85  2.32  18.6     1     1     4     1
#&gt; 4  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1
#&gt; 5  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2
#&gt; 6  18.1     6   225   105  2.76  3.46  20.2     1     0     3     1</code></pre>
<p _ngcontent-byw-c10="">However, we can provide a custom column name to the <code _ngcontent-byw-c10="">rownames</code> argument of <code _ngcontent-byw-c10="">as_tibble()</code> to preserve the row names.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble(mtcars, rownames = "car")
#&gt; # A tibble: 32 x 12
#&gt;    car                 mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
#&gt;    &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1 Mazda RX4          21       6  160    110  3.9   2.62  16.5     0     1     4     4
#&gt;  2 Mazda RX4 Wag      21       6  160    110  3.9   2.88  17.0     0     1     4     4
#&gt;  3 Datsun 710         22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
#&gt;  4 Hornet 4 Drive     21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
#&gt;  5 Hornet Sportabout  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
#&gt;  6 Valiant            18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
#&gt;  7 Duster 360         14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
#&gt;  8 Merc 240D          24.4     4  147.    62  3.69  3.19  20       1     0     4     2
#&gt;  9 Merc 230           22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
#&gt; 10 Merc 280           19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
#&gt; # ... with 22 more rows</code></pre>
<h2 id="printing-a-tibble" _ngcontent-byw-c10="">Printing a tibble</h2>
<p _ngcontent-byw-c10="">Unlike the traditional data frame, only the first ten rows and columns that fit on your screen's width are printed when printing a tibble.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">&gt; as_tibble(mtcars)
#&gt; # A tibble: 32 x 11
#&gt;      mpg   cyl  disp    hp  drat    wt
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1  21       6  160    110  3.9   2.62
#&gt;  2  21       6  160    110  3.9   2.88
#&gt;  3  22.8     4  108     93  3.85  2.32
#&gt;  4  21.4     6  258    110  3.08  3.22
#&gt;  5  18.7     8  360    175  3.15  3.44
#&gt;  6  18.1     6  225    105  2.76  3.46
#&gt;  7  14.3     8  360    245  3.21  3.57
#&gt;  8  24.4     4  147.    62  3.69  3.19
#&gt;  9  22.8     4  141.    95  3.92  3.15
#&gt; 10  19.2     6  168.   123  3.92  3.44
#&gt; # ... with 22 more rows, and 5 more
#&gt; #   variables: qsec &lt;dbl&gt;, vs &lt;dbl&gt;,
#&gt; #   am &lt;dbl&gt;, gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
<p _ngcontent-byw-c10="">Furthermore, tibble provides information on the remaining row count and column names that were not printed and the data type of each column.</p>
<p _ngcontent-byw-c10="">This makes it convenient when we want to quickly inspect our dataset.</p>
<h2 id="glimpsing-a-tibble" _ngcontent-byw-c10="">Glimpsing a tibble</h2>
<p _ngcontent-byw-c10="">The tibble package provides many helper functions, one of which is the <code _ngcontent-byw-c10="">glimpse()</code> function.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">glimpse(as_tibble(mtcars))
#&gt; Rows: 32
#&gt; Columns: 11
#&gt; $ mpg  &lt;dbl&gt; 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8,...
#&gt; $ cyl  &lt;dbl&gt; 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4,...
#&gt; $ disp &lt;dbl&gt; 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146....
#&gt; $ hp   &lt;dbl&gt; 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 1...
#&gt; $ drat &lt;dbl&gt; 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92,...
#&gt; $ wt   &lt;dbl&gt; 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.19...
#&gt; $ qsec &lt;dbl&gt; 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.0...
#&gt; $ vs   &lt;dbl&gt; 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1,...
#&gt; $ am   &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,...
#&gt; $ gear &lt;dbl&gt; 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4,...
#&gt; $ carb &lt;dbl&gt; 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1,...</code></pre>
<p _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">glimpse()</code> is similar to <code _ngcontent-byw-c10="">str()</code> or a transposed <code _ngcontent-byw-c10="">print()</code>. It allows us to inspect all the columns in the dataset and get basic information about the dimensions of the data.</p>
<p _ngcontent-byw-c10="">This can be helpful when we have data with a lot of columns. Moreover, this function works with traditional data frames too!</p>
<h2 id="subsetting-a-tibble" _ngcontent-byw-c10="">Subsetting a tibble</h2>
<p _ngcontent-byw-c10="">If you are familiar with the traditional data frame, you probably know that it coerces to a vector when a single column is accessed.</p>
<p _ngcontent-byw-c10="">To demonstrate this, I will use the BOD dataset available in base R.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">BOD
#&gt;   Time demand
#&gt; 1    1    8.3
#&gt; 2    2   10.3
#&gt; 3    3   19.0
#&gt; 4    4   16.0
#&gt; 5    5   15.6
#&gt; 6    7   19.8</code></pre>
<p _ngcontent-byw-c10="">It has two columns, <code _ngcontent-byw-c10="">Time</code> and <code _ngcontent-byw-c10="">demand</code>. We can access the <code _ngcontent-byw-c10="">Time</code> column by using the <code _ngcontent-byw-c10="">[</code> operator. The first argument will be empty as we want to access all the rows values.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">BOD[, "Time"]
#&gt; [1] 1 2 3 4 5 7</code></pre>
<p _ngcontent-byw-c10="">This gives a vector output because the <code _ngcontent-byw-c10="">drop</code> argument has a default value of <code _ngcontent-byw-c10="">TRUE</code>.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10=""># This is the same as `BOD[, "Time"]`
BOD[, "Time", drop = TRUE]
#&gt; [1] 1 2 3 4 5 7</code></pre>
<p _ngcontent-byw-c10="">We can explicitly set <code _ngcontent-byw-c10="">drop</code> to <code _ngcontent-byw-c10="">FALSE</code> to prevent it from coercing to a vector.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">BOD[, "Time", drop = FALSE]
#&gt;   Time
#&gt; 1    1
#&gt; 2    2
#&gt; 3    3
#&gt; 4    4
#&gt; 5    5
#&gt; 6    7</code></pre>
<p _ngcontent-byw-c10="">On the other hand, the <code _ngcontent-byw-c10="">[</code> operator for tibble has its <code _ngcontent-byw-c10="">drop</code> argument set to <code _ngcontent-byw-c10="">FALSE</code> by default.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble(BOD)[, "Time"]
#&gt; # A tibble: 6 x 1
#&gt;    Time
#&gt;   &lt;dbl&gt;
#&gt; 1     1
#&gt; 2     2
#&gt; 3     3
#&gt; 4     4
#&gt; 5     5
#&gt; 6     7</code></pre>
<p _ngcontent-byw-c10="">We can explicitly set <code _ngcontent-byw-c10="">drop</code> to <code _ngcontent-byw-c10="">TRUE</code> to force it to coerce to a vector.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble(BOD)[, "Time", drop = TRUE]
#&gt; [1] 1 2 3 4 5 7</code></pre>
<h2 id="partial-matching" _ngcontent-byw-c10="">Partial matching</h2>
<p _ngcontent-byw-c10="">Traditional data frames support partial column matching through the <code _ngcontent-byw-c10="">$</code> and <code _ngcontent-byw-c10="">[[</code> operators.</p>
<p _ngcontent-byw-c10="">For example, we can select the <code _ngcontent-byw-c10="">Time</code> column of the <code _ngcontent-byw-c10="">BOD</code> dataset with <code _ngcontent-byw-c10="">T</code> as it partially matches only a single column in the data frame.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10=""># Partial Matching with `$`
&gt; BOD$T
#&gt; [1] 1 2 3 4 5 7</code></pre>
<p _ngcontent-byw-c10="">We can also perform partial column name matching using the <code _ngcontent-byw-c10="">[[</code> operator, but we have to explicitly set the <code _ngcontent-byw-c10="">exact</code> argument to <code _ngcontent-byw-c10="">FALSE</code>.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10=""># Partial Matching with `[[`
BOD[["T", exact = FALSE]]
#&gt; [1] 1 2 3 4 5 7</code></pre>
<p _ngcontent-byw-c10="">With tibble, partial column name matching is not supported and doing so will give a warning output.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble(BOD)$T
#&gt; NULL
#&gt; Warning message:
#&gt; Unknown or uninitialised column: `T`. </code></pre>
<p _ngcontent-byw-c10="">Moreover, the <code _ngcontent-byw-c10="">exact</code> argument will be ignored when using the <code _ngcontent-byw-c10="">[[</code> operator.</p>
<pre _ngcontent-byw-c10=""><code class="language-r" _ngcontent-byw-c10="">as_tibble(BOD)[["T", exact = FALSE]]
#&gt; NULL
#&gt; Warning message:
#&gt; `exact` ignored.</code></pre>
<h2 id="summary" _ngcontent-byw-c10="">Summary</h2>
<ul _ngcontent-byw-c10="">
<li _ngcontent-byw-c10="">A tibble is a data frame with <code _ngcontent-byw-c10="">tbl_df</code> class with tweaked behaviors</li>
<li _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">tibble()</code> allows for tibble creation similar to that of a traditional data frame</li>
<li _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">tribble()</code> allows for row-wise tibble creation</li>
<li _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">tibble()</code> supports different ways to repair column names</li>
<li _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">tibble()</code> supports list-columns</li>
<li _ngcontent-byw-c10=""><code _ngcontent-byw-c10="">as_tibble()</code> coerces an object (data frame, matrix, etc.) into a tibble</li>
<li _ngcontent-byw-c10="">tibble prints nicely according to your screen's width</li>
<li _ngcontent-byw-c10="">tibble stays as tibble, even when accessing a single column</li>
<li _ngcontent-byw-c10="">tibble does not support partial matching for column names</li>
</ul>
<p _ngcontent-byw-c10="">TODO: Add summary about why tibble is better than the traditional data frame</p>
<h2 id="sources" _ngcontent-byw-c10="">Sources</h2>
<ul _ngcontent-byw-c10="">
<li _ngcontent-byw-c10="">Documentation - <a href="https://tibble.tidyverse.org" _ngcontent-byw-c10="">tibble.tidyverse.org</a></li>
<li _ngcontent-byw-c10="">R for Data Science - <a href="https://r4ds.had.co.nz/tibbles" _ngcontent-byw-c10="">r4ds.had.co.nz/tibbles</a></li>
<li _ngcontent-byw-c10="">Source Code - <a href="https://github.com/tidyverse/tibble" _ngcontent-byw-c10="">github.com/tidyverse/tibble</a></li>
</ul>
<p _ngcontent-byw-c10="">There are still many things from the tibble package that I did not discuss in this blog post. These resources are useful for exploring more about the package.</p>
<!--scullyContent-end--><script>try {window['scullyContent'] = {cssId:"_ngcontent-byw-c10",html:document.body.innerHTML.split('<!--scullyContent-begin-->')[1].split('<!--scullyContent-end-->')[0]};} catch(e) {console.error('scully could not parse content');}</script><scully-content _ngcontent-byw-c10=""></scully-content></div></div><!----></app-blog-post><!----></div><footer _ngcontent-byw-c7="" class="footer mt-auto w-100"><p _ngcontent-byw-c7="" class="px-3">Created with <a _ngcontent-byw-c7="" href="https://angular.io/" title="Angular"><i _ngcontent-byw-c7="" class="fab fa-angular"></i></a></p><p _ngcontent-byw-c7="" class="px-3">Last Modified: Sun Aug 30 2020 19:13:36 GMT-0700 (Pacific Daylight Time)</p></footer></div></app-root>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script id="ScullyIO-transfer-state"></script><script src="runtime.2829b0078809b695094b.js" defer=""></script><script src="polyfills.1aefc75bf7d5acb269d2.js" defer=""></script><script src="main.c9d6154c17e07dbc0eeb.js" defer=""></script>

</body></html>