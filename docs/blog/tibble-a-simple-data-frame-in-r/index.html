<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Scully 1.0.9">
    <meta charset="utf-8">
    <title>Alvin N. - Software Engineer</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Alvin Nursalim's personal website and blog.">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="stylesheet" href="styles.e7ac9be4102c576bbcca.css"><style>div.container[_ngcontent-iny-c8]{min-width:320px;max-width:1200px}div.container[_ngcontent-iny-c8]   nav[_ngcontent-iny-c8]{height:150px}div.container[_ngcontent-iny-c8]   nav[_ngcontent-iny-c8]   a[_ngcontent-iny-c8]{font-weight:500}div.container[_ngcontent-iny-c8]   nav[_ngcontent-iny-c8]   a.nav-brand[_ngcontent-iny-c8]{background-image:none;transition:none}div.container[_ngcontent-iny-c8]   nav[_ngcontent-iny-c8]   a.nav-brand[_ngcontent-iny-c8]   h1[_ngcontent-iny-c8]{font-weight:700}div.container[_ngcontent-iny-c8]   nav[_ngcontent-iny-c8]   a.nav-brand[_ngcontent-iny-c8]   h5[_ngcontent-iny-c8]{font-weight:400}</style><script charset="utf-8" src="4.dd3ee73cfc67f6da329b.js"></script><style>.blog-post[_ngcontent-iny-c9]{font-size:1.2rem;max-width:800px}.blog-post[_ngcontent-iny-c9]   div.author[_ngcontent-iny-c9]{align-items:center;margin-bottom:3rem}.blog-post[_ngcontent-iny-c9]   div.author[_ngcontent-iny-c9]   img.avatar[_ngcontent-iny-c9]{border-radius:50%;height:48px;width:48px}.blog-post[_ngcontent-iny-c9]   h1[_ngcontent-iny-c9]{margin-bottom:1.5rem}.blog-md[_ngcontent-iny-c9]   button[_ngcontent-iny-c9], .blog-md[_ngcontent-iny-c9]   code[_ngcontent-iny-c9]{font-size:90%}.blog-md[_ngcontent-iny-c9]   h2[_ngcontent-iny-c9]{margin-top:5rem}.blog-md[_ngcontent-iny-c9]   h3[_ngcontent-iny-c9]{margin-top:3rem}.blog-md[_ngcontent-iny-c9]   iframe[_ngcontent-iny-c9]{height:350px;width:100%;padding:1rem}.blog-md[_ngcontent-iny-c9]   img[_ngcontent-iny-c9]{width:100%;margin-top:1.5rem;padding:1rem}.blog-md[_ngcontent-iny-c9]   img[_ngcontent-iny-c9], .blog-md[_ngcontent-iny-c9]   pre[_ngcontent-iny-c9]{border-radius:.25rem}.blog-md[_ngcontent-iny-c9]   p[_ngcontent-iny-c9]{margin-top:2rem}.blog-md[_ngcontent-iny-c9]   pre[_ngcontent-iny-c9]{margin-bottom:1rem}.blog-md[_ngcontent-iny-c9]   table[_ngcontent-iny-c9], .blog-md[_ngcontent-iny-c9]   td[_ngcontent-iny-c9], .blog-md[_ngcontent-iny-c9]   th[_ngcontent-iny-c9]{border:1px solid #000}.blog-md[_ngcontent-iny-c9]   td[_ngcontent-iny-c9], .blog-md[_ngcontent-iny-c9]   th[_ngcontent-iny-c9]{padding:.5rem 2rem}</style><style>
      :host {
        display: none;
      }
      scully-content {
        display: none;
      }
    </style><script>window['ScullyIO']='generated';</script></head>
  <body scully-version="1.0.9">
    <app-root _nghost-iny-c8="" ng-version="11.0.5"><div _ngcontent-iny-c8="" class="container d-flex flex-column h-100"><header _ngcontent-iny-c8="" class="border-bottom"><nav _ngcontent-iny-c8="" class="nav d-flex align-items-center"><a _ngcontent-iny-c8="" routerlink="" class="nav-brand nav-link d-flex flex-column" href="/"><h1 _ngcontent-iny-c8="">Alvin N.</h1><h5 _ngcontent-iny-c8="">Software Engineer</h5></a><div _ngcontent-iny-c8="" class="flex-grow-1"></div><div _ngcontent-iny-c8="" class="d-flex"><a _ngcontent-iny-c8="" class="nav-link me-3" href="/code">Code</a><a _ngcontent-iny-c8="" class="nav-link" href="/blog">Blog</a></div></nav></header><router-outlet _ngcontent-iny-c8=""></router-outlet><app-blog-post _nghost-iny-c9=""><div _ngcontent-iny-c9="" class="blog-post container py-4"><h1 _ngcontent-iny-c9="">tibble: A Simple Data Frame in R</h1><div _ngcontent-iny-c9="" class="author d-flex"><div _ngcontent-iny-c9="" class="me-3"><img _ngcontent-iny-c9="" src="assets/blog/profile.webp" class="avatar" alt="Alvin N."></div><div _ngcontent-iny-c9="" class="text-truncate"><div _ngcontent-iny-c9="" class="text-truncate">by Alvin N.</div><span _ngcontent-iny-c9="">30 Aug. 2020</span></div></div><p _ngcontent-iny-c9=""><img _ngcontent-iny-c9="" class="rounded w-100" src="assets/blog/tibble-a-simple-data-frame-in-r/tibble.webp"></p><div _ngcontent-iny-c9="" class="blog-md"><!--scullyContent-begin--><h2 id="what-is-a-tibble" _ngcontent-iny-c9="">What is a tibble?</h2>
<p _ngcontent-iny-c9="">According to the tibble <a href="https://tibble.tidyverse.org" _ngcontent-iny-c9="">documentation</a>, a tibble, or <code _ngcontent-iny-c9="">tbl_df</code>, is a modern reimagining of the <code _ngcontent-iny-c9="">data.frame</code>, keeping what time has proven to be effective, and throwing out what is not.</p>
<h3 id="why-tibble" _ngcontent-iny-c9="">Why "tibble"?</h3>
<p _ngcontent-iny-c9="">Maybe it is because "tibble" is how New Zealanders (like Hadley) pronounce the word "table" ðŸ˜‚.</p>
<p _ngcontent-iny-c9=""><a href="https://community.rstudio.com/t/why-on-earth-is-it-called-tibble/26569/4" _ngcontent-iny-c9=""><img src="assets/blog/tibble-a-simple-data-frame-in-r/tibble-rstudio-community.webp" alt="" _ngcontent-iny-c9=""></a></p>
<p _ngcontent-iny-c9="">On the other hand, maybe it's New Zealand for data frame ðŸ˜….</p>
<iframe class="p-3" src="https://www.youtube.com/embed/gjpNEVcG1nU?start=505" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" _ngcontent-iny-c9=""></iframe>

<p _ngcontent-iny-c9="">Joking aside, I believe a tibble is a simple data frame that improves on the behavior of the traditional data frame through <a href="https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)" _ngcontent-iny-c9="">inheritance</a>.</p>
<h2 id="the-tbl_df-class" _ngcontent-iny-c9="">The <code _ngcontent-iny-c9="">tbl_df</code> class</h2>
<p _ngcontent-iny-c9="">Before I explain the differences between tibble and the traditional data frame, I would like to first explain how tibble can alter some behaviors of the traditional data frame.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">class(tibble())
#&gt; [1] "tbl_df"     "tbl"        "data.frame"</code></pre>
<p _ngcontent-iny-c9="">A tibble is a data frame with the <code _ngcontent-iny-c9="">tbl_df</code> class. We can think of <code _ngcontent-iny-c9="">tbl</code> as a tibble and <code _ngcontent-iny-c9="">df</code> as a data frame. So <code _ngcontent-iny-c9="">tbl_df</code> is like a tibble that stores its data in a data frame.</p>
<p _ngcontent-iny-c9="">The <code _ngcontent-iny-c9="">tbl_df</code> class inherits from the <code _ngcontent-iny-c9="">tbl</code> class which in turn inherits from the <code _ngcontent-iny-c9="">data.frame</code> class. This means that <code _ngcontent-iny-c9="">tbl_df</code> is a subclass of <code _ngcontent-iny-c9="">data.frame</code> and the behaviors of <code _ngcontent-iny-c9="">data.frame</code> are passed down to <code _ngcontent-iny-c9="">tbl_df</code> through this inheritance chain.</p>
<p _ngcontent-iny-c9="">This allows <code _ngcontent-iny-c9="">tbl_df</code> to behave like a <code _ngcontent-iny-c9="">data.frame</code> and to alter the behaviors of a traditional data frame, such as printing and subsetting.</p>
<h2 id="creating-a-tibble" _ngcontent-iny-c9="">Creating a tibble</h2>
<p _ngcontent-iny-c9="">There are different ways to create a tibble. The common ways are through the <code _ngcontent-iny-c9="">tibble()</code> and <code _ngcontent-iny-c9="">tribble()</code> functions.</p>
<p _ngcontent-iny-c9="">I will create the following table using the two functions:</p>
<table _ngcontent-iny-c9="">
<thead _ngcontent-iny-c9="">
<tr _ngcontent-iny-c9="">
<th _ngcontent-iny-c9="">x</th>
<th _ngcontent-iny-c9="">y</th>
</tr>
</thead>
<tbody _ngcontent-iny-c9=""><tr _ngcontent-iny-c9="">
<td _ngcontent-iny-c9="">1</td>
<td _ngcontent-iny-c9="">4</td>
</tr>
<tr _ngcontent-iny-c9="">
<td _ngcontent-iny-c9="">2</td>
<td _ngcontent-iny-c9="">5</td>
</tr>
<tr _ngcontent-iny-c9="">
<td _ngcontent-iny-c9="">3</td>
<td _ngcontent-iny-c9="">6</td>
</tr>
</tbody></table>
<h3 id="creating-using-tibble" _ngcontent-iny-c9="">Creating using <code _ngcontent-iny-c9="">tibble()</code></h3>
<p _ngcontent-iny-c9="">We can use <code _ngcontent-iny-c9="">tibble()</code> just like how we use <code _ngcontent-iny-c9="">data.frame()</code>.</p>
<p _ngcontent-iny-c9="">If we use the <code _ngcontent-iny-c9="">tag = value</code> form, the column name is created based on <code _ngcontent-iny-c9="">tag</code>:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">tibble(x = 1:3, y = 4:6)
#&gt; # A tibble: 3 x 2
#&gt;       x     y
#&gt;   &lt;int&gt; &lt;int&gt;
#&gt; 1     1     4
#&gt; 2     2     5
#&gt; 3     3     6</code></pre>
<p _ngcontent-iny-c9="">If we use the <code _ngcontent-iny-c9="">value</code> form, the column name is created based on the <code _ngcontent-iny-c9="">value</code>'s deparsed argument:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">x &lt;- 1:3
y &lt;- 4:6
tibble(x, y)
#&gt; # A tibble: 3 x 2
#&gt;       x     y
#&gt;   &lt;int&gt; &lt;int&gt;
#&gt; 1     1     4
#&gt; 2     2     5
#&gt; 3     3     6</code></pre>
<h3 id="creating-using-tribble" _ngcontent-iny-c9="">Creating using <code _ngcontent-iny-c9="">tribble()</code></h3>
<p _ngcontent-iny-c9="">We can use <code _ngcontent-iny-c9="">tribble()</code> for row-wise tibble creation which makes the code more readable.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">tribble(
  ~x, ~y,
  1,  4,
  2,  5,
  3,  6
)
#&gt; # A tibble: 3 x 2
#&gt;       x     y
#&gt;   &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1     1     4
#&gt; 2     2     5
#&gt; 3     3     6</code></pre>
<p _ngcontent-iny-c9="">We use the <code _ngcontent-iny-c9="">~name</code> syntax in the first row for the column names and followed by the value rows.</p>
<h3 id="repairing-column-names" _ngcontent-iny-c9="">Repairing column names</h3>
<p _ngcontent-iny-c9="">By default, <code _ngcontent-iny-c9="">data.frame()</code> munges duplicate column names to produce unique names:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">data.frame(x = 1:3, x = 4:6)
#&gt;   x x.1
#&gt; 1 1   4
#&gt; 2 2   5
#&gt; 3 3   6</code></pre>
<p _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">tibble()</code> does not munge column names, but it will give a warning output:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">tibble(x = 1:3, x = 4:6)
#&gt; Error: Column name `x` must not be duplicated.
#&gt; Use .name_repair to specify repair.
#&gt; Run `rlang::last_error()` to see where the error occurred.</code></pre>
<p _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">tibble()</code> has a <code _ngcontent-iny-c9="">.name_repair</code> argument which allows us to specify how we can resolve the duplicate column names.</p>
<p _ngcontent-iny-c9="">By default, <code _ngcontent-iny-c9="">.name_repair</code> is set to <code _ngcontent-iny-c9="">"check_unique"</code> which just ensures that there are unique columns and does not attempt to repair if there are non-unique column names.</p>
<p _ngcontent-iny-c9="">Other than <code _ngcontent-iny-c9="">"check_unique"</code>, <code _ngcontent-iny-c9="">.name_repair</code> accepts the following values:</p>
<ul _ngcontent-iny-c9="">
<li _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">"minimal"</code>: allows duplicate column names</li>
<li _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">"unique"</code>: generates non-empty unique names</li>
<li _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">"universal"</code>: generates unique and syntactic names</li>
<li _ngcontent-iny-c9="">A custom function or purrr anonymous function</li>
</ul>
<p _ngcontent-iny-c9="">The main difference between using <code _ngcontent-iny-c9="">"unique"</code> and <code _ngcontent-iny-c9="">"universal"</code> can be seen when your data contains columns with non-syntactic names, such as <code _ngcontent-iny-c9="">`x var`</code> and <code _ngcontent-iny-c9="">`y var`</code> which contains whitespace.</p>
<p _ngcontent-iny-c9="">Using <code _ngcontent-iny-c9="">.name_repair = "unique"</code>:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">tibble(`x var` = 1:3, `x var` = 4:6, .name_repair = "unique")
#&gt; New names:
#&gt; * `x var` -&gt; `x var...1`
#&gt; * `x var` -&gt; `x var...2`
#&gt; # A tibble: 3 x 2
#&gt;   `x var...1` `x var...2`
#&gt;         &lt;int&gt;       &lt;int&gt;
#&gt; 1           1           4
#&gt; 2           2           5
#&gt; 3           3           6</code></pre>
<p _ngcontent-iny-c9="">Notice how the whitespace between <code _ngcontent-iny-c9="">x</code> and <code _ngcontent-iny-c9="">var</code> is preserved and the column names, <code _ngcontent-iny-c9="">x var...1</code> and <code _ngcontent-iny-c9="">x var...2</code>, are still non-syntactic.</p>
<p _ngcontent-iny-c9="">Using <code _ngcontent-iny-c9="">.name_repair = "universal"</code>:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">tibble(`x var` = 1:3, `x var` = 4:6, .name_repair = "universal")
#&gt; New names:
#&gt; * `x var` -&gt; x.var...1
#&gt; * `x var` -&gt; x.var...2
#&gt; # A tibble: 3 x 2
#&gt;   x.var...1 x.var...2
#&gt;       &lt;int&gt;     &lt;int&gt;
#&gt; 1         1         4
#&gt; 2         2         5
#&gt; 3         3         6</code></pre>
<p _ngcontent-iny-c9="">Now the columns have syntactic names, <code _ngcontent-iny-c9="">x.var...1</code> and <code _ngcontent-iny-c9="">x.var...2</code>.</p>
<h3 id="using-list-columns" _ngcontent-iny-c9="">Using list-columns</h3>
<p _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">data.frame()</code> does not support lists as variables:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">data.frame(
  x = list(
    data.frame(y1 = 1:3, z1 = 4:6),
    data.frame(y2 = 1:3, z2 = 4:6)
  )
)
#&gt;   x.y1 x.z1 x.y2 x.z2
#&gt; 1    1    4    1    4
#&gt; 2    2    5    2    5
#&gt; 3    3    6    3    6</code></pre>
<p _ngcontent-iny-c9="">On the other hand, <code _ngcontent-iny-c9="">tibble()</code> supports list-columns. This allows us to create data frames with lists as variables and nested data frames:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">tibble(
  x = list(
    tibble(y1 = 1:3, z1 = 4:6),
    tibble(y2 = 1:3, z2 = 4:6)
  )
)
#&gt; # A tibble: 2 x 1
#&gt;   x
#&gt;   &lt;list&gt;
#&gt; 1 &lt;tibble [3 x 2]&gt;
#&gt; 2 &lt;tibble [3 x 2]&gt;</code></pre>
<h2 id="coercing-to-a-tibble" _ngcontent-iny-c9="">Coercing to a tibble</h2>
<p _ngcontent-iny-c9="">We can coerce vectors, lists, matrices, or traditional data frames to tibbles.</p>
<p _ngcontent-iny-c9="">The commonly used functions for doing this are <code _ngcontent-iny-c9="">as_tibble()</code>, <code _ngcontent-iny-c9="">as_tibble_row()</code>, and <code _ngcontent-iny-c9="">as_tibble_col()</code>.</p>
<p _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">as_tibble()</code> coerces objects, such as a matrix or traditional data frame into a tibble:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">class(mtcars)
#&gt; [1] "data.frame"
as_tibble(mtcars)
#&gt; # A tibble: 32 x 11
#&gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
#&gt;  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
#&gt;  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
#&gt;  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
#&gt;  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
#&gt;  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
#&gt;  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
#&gt;  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
#&gt;  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
#&gt; 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
#&gt; # ... with 22 more rows</code></pre>
<p _ngcontent-iny-c9="">By default, <code _ngcontent-iny-c9="">as_tibble()</code> coerces a vector into a single column tibble, but we can explicitly do it using <code _ngcontent-iny-c9="">as_tibble_col()</code>:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble_col(1:3)
#&gt; # A tibble: 3 x 1
#&gt;   value
#&gt;   &lt;int&gt;
#&gt; 1     1
#&gt; 2     2
#&gt; 3     3</code></pre>
<p _ngcontent-iny-c9="">On the other hand, if we want to coerce a vector into a single row tibble, we can use <code _ngcontent-iny-c9="">as_tibble_row()</code>:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble_row(1:3)
#&gt; Error: Columns 1, 2, and 3 must be named.
#&gt; Use .name_repair to specify repair.
#&gt; Run `rlang::last_error()` to see where the error occurred.</code></pre>
<p _ngcontent-iny-c9="">Oops! Vectors does not contain any column names!
Just like <code _ngcontent-iny-c9="">tibble()</code>, the <code _ngcontent-iny-c9="">as_tibble()</code>, <code _ngcontent-iny-c9="">as_tibble_col()</code>, and <code _ngcontent-iny-c9="">as_tibble_row()</code> has a <code _ngcontent-iny-c9="">.name_repair</code> argument for fixing column names dynamically.</p>
<p _ngcontent-iny-c9="">In this case, we want it to repair our column names by generating unique names:</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble_row(1:3, .name_repair = "unique")
#&gt; New names:
#&gt; * `` -&gt; ...1
#&gt; * `` -&gt; ...2
#&gt; * `` -&gt; ...3
#&gt; # A tibble: 1 x 3
#&gt;    ...1  ...2  ...3
#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;
#&gt; 1     1     2     3</code></pre>
<h3 id="preserving-row-names" _ngcontent-iny-c9="">Preserving row names</h3>
<p _ngcontent-iny-c9="">Instead of having row names, having a column that stores information about the row names is encouraged.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">head(mtcars)
#&gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
#&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
#&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
#&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
#&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p _ngcontent-iny-c9="">By default, the rownames column is not added when coercing a traditional data frame to a tibble.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble(mtcars)
#&gt; # A tibble: 6 x 11
#&gt;     mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt; 1  21       6   160   110  3.9   2.62  16.5     0     1     4     4
#&gt; 2  21       6   160   110  3.9   2.88  17.0     0     1     4     4
#&gt; 3  22.8     4   108    93  3.85  2.32  18.6     1     1     4     1
#&gt; 4  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1
#&gt; 5  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2
#&gt; 6  18.1     6   225   105  2.76  3.46  20.2     1     0     3     1</code></pre>
<p _ngcontent-iny-c9="">However, we can provide a custom column name to the <code _ngcontent-iny-c9="">rownames</code> argument of <code _ngcontent-iny-c9="">as_tibble()</code> to preserve the row names.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble(mtcars, rownames = "car")
#&gt; # A tibble: 32 x 12
#&gt;    car                 mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
#&gt;    &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1 Mazda RX4          21       6  160    110  3.9   2.62  16.5     0     1     4     4
#&gt;  2 Mazda RX4 Wag      21       6  160    110  3.9   2.88  17.0     0     1     4     4
#&gt;  3 Datsun 710         22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
#&gt;  4 Hornet 4 Drive     21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
#&gt;  5 Hornet Sportabout  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
#&gt;  6 Valiant            18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
#&gt;  7 Duster 360         14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
#&gt;  8 Merc 240D          24.4     4  147.    62  3.69  3.19  20       1     0     4     2
#&gt;  9 Merc 230           22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
#&gt; 10 Merc 280           19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
#&gt; # ... with 22 more rows</code></pre>
<h2 id="printing-a-tibble" _ngcontent-iny-c9="">Printing a tibble</h2>
<p _ngcontent-iny-c9="">Unlike the traditional data frame, only the first ten rows and columns that fit on your screen's width are printed when printing a tibble.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">&gt; as_tibble(mtcars)
#&gt; # A tibble: 32 x 11
#&gt;      mpg   cyl  disp    hp  drat    wt
#&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1  21       6  160    110  3.9   2.62
#&gt;  2  21       6  160    110  3.9   2.88
#&gt;  3  22.8     4  108     93  3.85  2.32
#&gt;  4  21.4     6  258    110  3.08  3.22
#&gt;  5  18.7     8  360    175  3.15  3.44
#&gt;  6  18.1     6  225    105  2.76  3.46
#&gt;  7  14.3     8  360    245  3.21  3.57
#&gt;  8  24.4     4  147.    62  3.69  3.19
#&gt;  9  22.8     4  141.    95  3.92  3.15
#&gt; 10  19.2     6  168.   123  3.92  3.44
#&gt; # ... with 22 more rows, and 5 more
#&gt; #   variables: qsec &lt;dbl&gt;, vs &lt;dbl&gt;,
#&gt; #   am &lt;dbl&gt;, gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
<p _ngcontent-iny-c9="">Furthermore, tibble provides information on the remaining row count and column names that were not printed and the data type of each column.</p>
<p _ngcontent-iny-c9="">This makes it convenient when we want to quickly inspect our dataset.</p>
<h2 id="glimpsing-a-tibble" _ngcontent-iny-c9="">Glimpsing a tibble</h2>
<p _ngcontent-iny-c9="">The tibble package provides many helper functions, one of which is the <code _ngcontent-iny-c9="">glimpse()</code> function.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">glimpse(as_tibble(mtcars))
#&gt; Rows: 32
#&gt; Columns: 11
#&gt; $ mpg  &lt;dbl&gt; 21.0, 21.0, 22.8, 21.4, 18.7, 18.1, 14.3, 24.4, 22.8,...
#&gt; $ cyl  &lt;dbl&gt; 6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, 8, 8, 8, 8, 8, 4,...
#&gt; $ disp &lt;dbl&gt; 160.0, 160.0, 108.0, 258.0, 360.0, 225.0, 360.0, 146....
#&gt; $ hp   &lt;dbl&gt; 110, 110, 93, 110, 175, 105, 245, 62, 95, 123, 123, 1...
#&gt; $ drat &lt;dbl&gt; 3.90, 3.90, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92,...
#&gt; $ wt   &lt;dbl&gt; 2.620, 2.875, 2.320, 3.215, 3.440, 3.460, 3.570, 3.19...
#&gt; $ qsec &lt;dbl&gt; 16.46, 17.02, 18.61, 19.44, 17.02, 20.22, 15.84, 20.0...
#&gt; $ vs   &lt;dbl&gt; 0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1,...
#&gt; $ am   &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,...
#&gt; $ gear &lt;dbl&gt; 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4,...
#&gt; $ carb &lt;dbl&gt; 4, 4, 1, 1, 2, 1, 4, 2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1,...</code></pre>
<p _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">glimpse()</code> is similar to <code _ngcontent-iny-c9="">str()</code> or a transposed <code _ngcontent-iny-c9="">print()</code>. It allows us to inspect all the columns in the dataset and get basic information about the dimensions of the data.</p>
<p _ngcontent-iny-c9="">This can be helpful when we have data with a lot of columns. Moreover, this function works with traditional data frames too!</p>
<h2 id="subsetting-a-tibble" _ngcontent-iny-c9="">Subsetting a tibble</h2>
<p _ngcontent-iny-c9="">If you are familiar with the traditional data frame, you probably know that it coerces to a vector when a single column is accessed.</p>
<p _ngcontent-iny-c9="">To demonstrate this, I will use the BOD dataset available in base R.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">BOD
#&gt;   Time demand
#&gt; 1    1    8.3
#&gt; 2    2   10.3
#&gt; 3    3   19.0
#&gt; 4    4   16.0
#&gt; 5    5   15.6
#&gt; 6    7   19.8</code></pre>
<p _ngcontent-iny-c9="">It has two columns, <code _ngcontent-iny-c9="">Time</code> and <code _ngcontent-iny-c9="">demand</code>. We can access the <code _ngcontent-iny-c9="">Time</code> column by using the <code _ngcontent-iny-c9="">[</code> operator. The first argument will be empty as we want to access all the rows values.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">BOD[, "Time"]
#&gt; [1] 1 2 3 4 5 7</code></pre>
<p _ngcontent-iny-c9="">This gives a vector output because the <code _ngcontent-iny-c9="">drop</code> argument has a default value of <code _ngcontent-iny-c9="">TRUE</code>.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9=""># This is the same as `BOD[, "Time"]`
BOD[, "Time", drop = TRUE]
#&gt; [1] 1 2 3 4 5 7</code></pre>
<p _ngcontent-iny-c9="">We can explicitly set <code _ngcontent-iny-c9="">drop</code> to <code _ngcontent-iny-c9="">FALSE</code> to prevent it from coercing to a vector.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">BOD[, "Time", drop = FALSE]
#&gt;   Time
#&gt; 1    1
#&gt; 2    2
#&gt; 3    3
#&gt; 4    4
#&gt; 5    5
#&gt; 6    7</code></pre>
<p _ngcontent-iny-c9="">On the other hand, the <code _ngcontent-iny-c9="">[</code> operator for tibble has its <code _ngcontent-iny-c9="">drop</code> argument set to <code _ngcontent-iny-c9="">FALSE</code> by default.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble(BOD)[, "Time"]
#&gt; # A tibble: 6 x 1
#&gt;    Time
#&gt;   &lt;dbl&gt;
#&gt; 1     1
#&gt; 2     2
#&gt; 3     3
#&gt; 4     4
#&gt; 5     5
#&gt; 6     7</code></pre>
<p _ngcontent-iny-c9="">We can explicitly set <code _ngcontent-iny-c9="">drop</code> to <code _ngcontent-iny-c9="">TRUE</code> to force it to coerce to a vector.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble(BOD)[, "Time", drop = TRUE]
#&gt; [1] 1 2 3 4 5 7</code></pre>
<h2 id="partial-matching" _ngcontent-iny-c9="">Partial matching</h2>
<p _ngcontent-iny-c9="">Traditional data frames support partial column matching through the <code _ngcontent-iny-c9="">$</code> and <code _ngcontent-iny-c9="">[[</code> operators.</p>
<p _ngcontent-iny-c9="">For example, we can select the <code _ngcontent-iny-c9="">Time</code> column of the <code _ngcontent-iny-c9="">BOD</code> dataset with <code _ngcontent-iny-c9="">T</code> as it partially matches only a single column in the data frame.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9=""># Partial Matching with `$`
&gt; BOD$T
#&gt; [1] 1 2 3 4 5 7</code></pre>
<p _ngcontent-iny-c9="">We can also perform partial column name matching using the <code _ngcontent-iny-c9="">[[</code> operator, but we have to explicitly set the <code _ngcontent-iny-c9="">exact</code> argument to <code _ngcontent-iny-c9="">FALSE</code>.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9=""># Partial Matching with `[[`
BOD[["T", exact = FALSE]]
#&gt; [1] 1 2 3 4 5 7</code></pre>
<p _ngcontent-iny-c9="">With tibble, partial column name matching is not supported and doing so will give a warning output.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble(BOD)$T
#&gt; NULL
#&gt; Warning message:
#&gt; Unknown or uninitialised column: `T`.</code></pre>
<p _ngcontent-iny-c9="">Moreover, the <code _ngcontent-iny-c9="">exact</code> argument will be ignored when using the <code _ngcontent-iny-c9="">[[</code> operator.</p>
<pre _ngcontent-iny-c9=""><code class="language-r" _ngcontent-iny-c9="">as_tibble(BOD)[["T", exact = FALSE]]
#&gt; NULL
#&gt; Warning message:
#&gt; `exact` ignored.</code></pre>
<h2 id="summary" _ngcontent-iny-c9="">Summary</h2>
<ul _ngcontent-iny-c9="">
<li _ngcontent-iny-c9="">A tibble is a data frame with <code _ngcontent-iny-c9="">tbl_df</code> class with tweaked behaviors</li>
<li _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">tibble()</code> allows for tibble creation similar to that of a traditional data frame</li>
<li _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">tribble()</code> allows for row-wise tibble creation</li>
<li _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">tibble()</code> supports different ways to repair column names</li>
<li _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">tibble()</code> supports list-columns</li>
<li _ngcontent-iny-c9=""><code _ngcontent-iny-c9="">as_tibble()</code> coerces an object (data frame, matrix, etc.) into a tibble</li>
<li _ngcontent-iny-c9="">tibble prints nicely according to your screen's width</li>
<li _ngcontent-iny-c9="">tibble stays as tibble, even when accessing a single column</li>
<li _ngcontent-iny-c9="">tibble does not support partial matching for column names</li>
</ul>
<h2 id="sources" _ngcontent-iny-c9="">Sources</h2>
<ul _ngcontent-iny-c9="">
<li _ngcontent-iny-c9="">Documentation - <a href="https://tibble.tidyverse.org" _ngcontent-iny-c9="">tibble.tidyverse.org</a></li>
<li _ngcontent-iny-c9="">R for Data Science - <a href="https://r4ds.had.co.nz/tibbles" _ngcontent-iny-c9="">r4ds.had.co.nz/tibbles</a></li>
<li _ngcontent-iny-c9="">Source Code - <a href="https://github.com/tidyverse/tibble" _ngcontent-iny-c9="">github.com/tidyverse/tibble</a></li>
</ul>
<p _ngcontent-iny-c9="">There are still many things from the tibble package that I did not discuss in this blog post. These resources are useful for exploring more about the package.</p>
<!--scullyContent-end--><script>try {window['scullyContent'] = {cssId:"_ngcontent-iny-c9",html:document.body.innerHTML.split('<!--scullyContent-begin-->')[1].split('<!--scullyContent-end-->')[0]};} catch(e) {console.error('scully could not parse content');}</script><scully-content _ngcontent-iny-c9=""></scully-content></div></div><!----></app-blog-post><!----><footer _ngcontent-iny-c8="" class="mt-auto border-top"><div _ngcontent-iny-c8="" class="py-5 text-center"><div _ngcontent-iny-c8="" class="mb-2">Copyright Â© 2021 Alvin N.</div><div _ngcontent-iny-c8=""> Made with <img _ngcontent-iny-c8="" src="assets/angular.webp" alt="angular" height="30px"><img _ngcontent-iny-c8="" src="assets/scully.webp" alt="scully" height="30px"></div></div></footer></div></app-root>
  <script id="ScullyIO-transfer-state"></script><script src="runtime.0fd55cdf17a5725b3498.js" defer=""></script><script src="polyfills.1f3b39c11fffb306d5a3.js" defer=""></script><script src="main.659c0d7acd66f828a698.js" defer=""></script>

</body></html>